bun test v1.3.5 (1e86cebd)

tests\integration\tools.test.ts:
(pass) MCP Gemini CLI Integration Tests > gemini-cli detection > decideGeminiCliCommand finds gemini-cli or falls back correctly [31.00ms]
killed 1 dangling process
(fail) MCP Gemini CLI Integration Tests > gemini-cli detection > executeGeminiCli handles errors correctly [5015.00ms]
  ^ this test timed out after 5000ms.
(skip) MCP Gemini CLI Integration Tests > tool execution > googleSearchTool executes without error
(skip) MCP Gemini CLI Integration Tests > tool execution > chatTool executes without error
(pass) MCP Gemini CLI Integration Tests > tool execution > gemini-cli not available
118 | 2. 縺薙ｓ縺ｫ縺｡縺ｯ繝・せ繝・14 minutes ago)[9ec64691 - 53cb - 4fa3 - b7df - a121b6dcef54]
119 | 3. Project discussion(2 hours ago)[abc12345 - abcd - 1234 - ef56 - 7890abcdef12]
120 | `;
121 |       const sessions = parseSessionsOutput(sampleOutput);
122 | 
123 |       expect(sessions).toHaveLength(3);
                             ^
error: expect(received).toHaveLength(expected)

Expected length: 3
Received length: 0

      at <anonymous> (C:\tools\gemini-cli-mcp-server\tests\integration\tools.test.ts:123:24)
(fail) MCP Gemini CLI Integration Tests > session management > parseSessionsOutput parses session list correctly
(pass) MCP Gemini CLI Integration Tests > session management > parseSessionsOutput handles empty output
150 | Invalid line without brackets
151 | Another invalid line
152 | 2. Another valid(2 days ago)[another - id]`;
153 |       const sessions = parseSessionsOutput(sampleOutput);
154 | 
155 |       expect(sessions).toHaveLength(2);
                             ^
error: expect(received).toHaveLength(expected)

Expected length: 2
Received length: 0

      at <anonymous> (C:\tools\gemini-cli-mcp-server\tests\integration\tools.test.ts:155:24)
(fail) MCP Gemini CLI Integration Tests > session management > parseSessionsOutput handles malformed lines
(skip) MCP Gemini CLI Integration Tests > session management > executeListSessions returns structured data
(skip) MCP Gemini CLI Integration Tests > session management > executeParallelTasks integration > executes multiple tasks in parallel

 3 pass
 4 skip
 3 fail
 7 expect() calls
Ran 10 tests across 1 file. [5.26s]
